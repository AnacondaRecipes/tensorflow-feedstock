diff --git a/tensorflow/core/kernels/batching_util/BUILD b/tensorflow/core/kernels/batching_util/BUILD
index 9a66862779e..7b31b75417d 100644
--- a/tensorflow/core/kernels/batching_util/BUILD
+++ b/tensorflow/core/kernels/batching_util/BUILD
@@ -19,6 +19,7 @@ cc_library(
         "//tensorflow/core:portable_gif_internal",
         "//tensorflow/core/lib/core:notification",
         "@com_google_absl//absl/functional:any_invocable",
+        "@com_google_absl//absl/base:tracing_internal",
     ],
 )
 
@@ -138,6 +139,7 @@ cc_library(
         "@com_google_absl//absl/status:statusor",
         "@com_google_absl//absl/strings:str_format",
         "@com_google_absl//absl/strings:string_view",
+        "@com_google_absl//absl/base:tracing_internal",
         "@local_tsl//tsl/profiler/lib:traceme",
         "@local_xla//xla/tsl/platform:criticality",
     ],
diff --git a/third_party/xla/third_party/absl/system.absl.base.BUILD b/third_party/xla/third_party/absl/system.absl.base.BUILD
index 9c9a2fa7852..fb6a544fc9c 100644
--- a/third_party/xla/third_party/absl/system.absl.base.BUILD
+++ b/third_party/xla/third_party/absl/system.absl.base.BUILD
@@ -123,3 +123,12 @@ cc_library(
         "//absl:__subpackages__",
     ],
 )
+
+cc_library(
+    name = "tracing_internal",
+    linkopts = ["-labsl_tracing_internal"],
+    deps = [
+        ":config",
+        ":core_headers",
+    ],
+)
